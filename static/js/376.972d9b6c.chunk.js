"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[376],{1376:function(e,t,s){s.r(t),s.d(t,{default:function(){return b}});var l=s(9439),n=s(2791),r=s(9434),a=s(8987),i=s(8820),c=s(9126),o=s(6431),x=s.n(o),u=s(7689),d=s(1087),m=s(8174),f=s(184),p=function(e){var t=e.item,s=(0,r.I0)(),o=t.title,p=t.text,h=t.imgUrl,g=t.username,j=t.favorites,v=t.createdAt,b=t.views,N=t.comments,y=t._id,w=(0,r.v9)((function(e){return e.auth})),k=w.user,_=w.isUserLogin,M=(0,n.useState)(null===j||void 0===j?void 0:j.includes(null===k||void 0===k?void 0:k._id)),U=(0,l.Z)(M,2),C=U[0],I=U[1],Y=(0,u.s0)();return(0,f.jsxs)("li",{className:"flex flex-col basis-1/4 gap-5 flex-grow border-solid border-2 p-3 rounded-lg relative",children:[(0,f.jsxs)(d.rU,{to:"/".concat(y),children:[h&&(0,f.jsx)("div",{className:"p-2 rounded-lg flex h-[11rem] mb:h-80",children:(0,f.jsx)("img",{src:"https://blog-t4w3.onrender.com/".concat(h),alt:h.name,className:"object-contain rounded-2xl md:object-cover w-full"})}),(0,f.jsxs)("div",{className:"flex justify-between items-center mt-5",children:[(0,f.jsxs)("span",{className:"text-xs text-[#030303] opacity-50",children:["\u0430\u0432\u0442\u043e\u0440: ",g]}),(0,f.jsx)("span",{className:"text-xs text-[#030303] opacity-50",children:(0,f.jsx)(x(),{date:v,format:"D MMM YYYY"})})]}),(0,f.jsxs)("div",{className:"flex flex-col gap-2 mt-2",children:[(0,f.jsx)("h2",{className:"text-lg text-[#030303]",children:o}),(0,f.jsx)("p",{className:"text-xs text-[#030303] opacity-60 line-clamp-4",children:p})]}),(0,f.jsx)("div",{className:"flex justify-between items-center mt-4",children:(0,f.jsxs)("div",{className:"flex items-center gap-3",children:[(0,f.jsxs)("button",{type:"button",className:"flex items-center justify-center gap-2 text-sm text-[#030303] opacity-50",children:[(0,f.jsx)(i.w8I,{})," ",(0,f.jsx)("span",{children:b})]}),(0,f.jsxs)("button",{type:"button",className:"flex items-center justify-center gap-2 text-sm text-[#030303] opacity-50",children:[(0,f.jsx)(i.e$J,{})," ",(0,f.jsx)("span",{children:(null===N||void 0===N?void 0:N.length)||0})]})]})})]}),C?(0,f.jsx)("button",{className:"absolute bottom-5 right-5 text-lg",onClick:function(){return function(e){s((0,a.QJ)(e)),I(!1),m.Am.error("\u041f\u043e\u0441\u0442 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0438\u0439 \u0456\u0437 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0438\u0445")}(y)},children:(0,f.jsx)(c.M3k,{})}):(0,f.jsx)("button",{className:"absolute bottom-5 right-5 text-lg",onClick:function(){return function(e){if(!_)return m.Am.error("\u0429\u043e\u0431 \u0434\u043e\u0434\u0430\u0442\u0438 \u043f\u043e\u0441\u0442, \u0432\u0438 \u043c\u0430\u0454\u0442\u0435 \u0437\u0430\u0439\u0442\u0438 \u0443 \u0441\u0432\u0456\u0439 \u043a\u0430\u0431\u0456\u043d\u0435\u0442"),void Y("/login");s((0,a.BY)(e)),I(!0),m.Am.success("\u041f\u043e\u0441\u0442 \u0434\u043e\u0434\u0430\u043d\u0438\u0439 \u0443 \u0437\u0431\u0435\u0440\u0435\u0436\u0435\u043d\u0456")}(y)},children:(0,f.jsx)(c.flH,{})})]})},h=function(e){var t=e.posts;return(0,f.jsxs)("div",{className:"w-full flex flex-col gap-6 md:basis-4/5",children:[(0,f.jsx)("ul",{className:"flex justify-center gap-3 flex-wrap md:hidden",children:null===t||void 0===t?void 0:t.flatMap((function(e){return e.category})).filter((function(e,t,s){return s.indexOf(e)===t})).map((function(e){return(0,f.jsx)("li",{className:"border border-solid border-gray-400 rounded-lg",children:(0,f.jsx)(d.rU,{to:"/category/".concat(e),className:"py-2 px-4 text-xs",children:e})},e)}))}),(0,f.jsx)("ul",{className:"flex flex-col gap-10",children:null===t||void 0===t?void 0:t.map((function(e){return e&&(0,f.jsx)(p,{item:e},e._id)}))})]})},g=function(e){var t=e.post,s=t._id,l=t.title;return(0,f.jsx)("div",{className:"bg-gray-600 mt-1",children:(0,f.jsx)(d.rU,{to:"/".concat(s),className:"line-clamp-2 flex text-xs p-2 text-gray-300 hover:bg-gray-800 hover:text-white cursor-pointer",children:l})})},j=function(e){var t=e.item;return(0,f.jsx)("div",{className:"bg-gray-600 mt-1",children:(0,f.jsx)(d.rU,{to:"/category/".concat(t),className:"line-clamp-2 flex text-xs p-2 text-gray-300 hover:bg-gray-800 hover:text-white cursor-pointer",children:t})})},v=function(){var e=(0,r.I0)(),t=(0,d.lr)(),s=(0,l.Z)(t,2),c=s[0],o=s[1],x=c.get("query")||"";return(0,n.useEffect)((function(){e((0,a.PI)(x))}),[e,x]),(0,f.jsxs)("form",{className:"lg:w-[30%] lg:flex lg:m-auto lg:my-5 w-full relative",onSubmit:function(e){e.preventDefault()},children:[(0,f.jsx)("input",{type:"search",placeholder:"\u041f\u043e\u0448\u0443\u043a",name:"searchName",value:x,onChange:function(e){return t=e.target.value,void o(""!==t?{query:t}:{});var t},className:"w-full h-auto py-4 px-4 text-xs border border-solid-gray-500 rounded-[50px] outline-none"}),(0,f.jsx)("button",{type:"submit",className:"absolute top-4 right-5 text-[18px]",children:(0,f.jsx)(i.RB5,{})})]})},b=function(){var e=(0,r.I0)(),t=(0,r.v9)((function(e){return e.post})),s=t.posts,i=t.popularePosts,c=t.currentPage,o=t.currentLimit,x=(0,d.lr)(),u=(0,l.Z)(x,2),m=u[0],p=u[1],b=m.get("page")||"",N=m.get("limit")||"";return(0,n.useEffect)((function(){p(c?{page:c,limit:o}:{}),e((0,a.Bd)({getPage:b,getLimit:N}))}),[e,b,N,o,c,p]),console.log(b),console.log(N),(0,f.jsxs)("div",{className:"w-full md:max-w-[950px] mx-auto py-5 flex gap-5 flex-col",children:[s.length>0&&(0,f.jsx)(v,{}),(0,f.jsxs)("div",{className:"flex justify-between md:gap-8 w-full",children:[s.length>0?(0,f.jsx)(h,{posts:s}):(0,f.jsx)("h2",{className:"m-auto",children:"\u041d\u0430\u0440\u0430\u0437\u0456 \u043f\u043e\u0441\u0442\u0456\u0432 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e..."}),s.length>0&&(0,f.jsxs)("div",{className:"flex flex-col md:w-1/5",children:[(0,f.jsxs)("div",{className:"hidden md:block mb-[30px]",children:[(0,f.jsx)("h3",{className:"text-xs uppercase text-[#030303]",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0456\u044f"}),s.length>0&&(null===s||void 0===s?void 0:s.flatMap((function(e){return e.category})).filter((function(e,t,s){return s.indexOf(e)===t})).map((function(e){return(0,f.jsx)(j,{item:e},e)})))]}),(0,f.jsxs)("div",{className:"hidden md:block basis-1/5",children:[(0,f.jsx)("h3",{className:"text-xs uppercase text-[#030303]",children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0456"}),!!i&&i.map((function(e){return(0,f.jsx)(g,{post:e},e._id)}))]})]})]})]})}}}]);
//# sourceMappingURL=376.972d9b6c.chunk.js.map